<script setup>
import { onMounted, ref } from 'vue';

const skinnyColor = '#ff00ff';
const fatColor = '#00bfff';

const svgEl = ref(null);

onMounted(() => {
  const paths = document.querySelectorAll('.logo');

  for (let path of paths) {
    let length = path.getTotalLength();
    path.style.strokeDasharray = length + ' ' + length;
    path.style.strokeDashoffset = length;
    path.getBoundingClientRect();
    const keyframes = [
      {
        strokeDashoffset: length
      },
      {
        strokeDashoffset: -length
      }
    ];

    path.animate(keyframes, { easing: 'linear', duration: 3000, iterations: Infinity });
  }
});
</script>

<template>
  <div class="portfolio-loading-spinner">
    <svg ref="svgEl" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 809.87 270.02">
      <title>Loading</title>
      <g class="first-name" style="isolation: isolate">
        <path
          class="logo flicker"
          d="M156,185.92H144.27L78.51,150.24,64.75,185.92H53.23L99.31,71.68h11.84Zm-51-103.36-23,58.4,57.6,32.8Z"
          transform="translate(-50.27 -66.96)"
          fill="none"
          :stroke="fatColor"
          stroke-miterlimit="10"
          stroke-width="4"
        />
      </g>
      <g class="last-name" style="isolation: isolate">
        <path
          class="logo flicker"
          d="M233.69,286q2.24,4.49,2.24,12v2.16a17.34,17.34,0,0,1-.32,3,29.25,29.25,0,0,1-1.92,6.72,28.53,28.53,0,0,1-4.32,7.36,29.72,29.72,0,0,1-7.68,6.72,53.7,53.7,0,0,1-12.16,4.8,82.27,82.27,0,0,1-36-.48,43,43,0,0,1-14.88-7.2,33.3,33.3,0,0,1-9.28-12.32,40.1,40.1,0,0,1-2.88-18.08h10.88a46.4,46.4,0,0,0,.64,8,26.26,26.26,0,0,0,2.08,6.72,25.15,25.15,0,0,0,8,9.44,31.3,31.3,0,0,0,12,5,60.76,60.76,0,0,0,14.72,1.6,44.29,44.29,0,0,0,9.76-1.28,28.89,28.89,0,0,0,9.92-4.16,22.06,22.06,0,0,0,7.52-7.2,17.4,17.4,0,0,0,3-10.56,15.08,15.08,0,0,0-2.08-8.32,25.88,25.88,0,0,0-2.48-3.28,20.58,20.58,0,0,0-3.12-2.8,37,37,0,0,0-7.68-3.84q-2.08-.8-4.08-1.44c-1.34-.43-2.69-.8-4.08-1.12l-8.8-2.08,13.76-7.52c2,.53,4,1.12,5.84,1.76a54.52,54.52,0,0,1,5.52,2.24,47.56,47.56,0,0,1,9.44,5.76A25.16,25.16,0,0,1,233.69,286ZM158,262.8a25.48,25.48,0,0,1-5.6-7.84,26.71,26.71,0,0,1-2.24-11.36,28.45,28.45,0,0,1,.4-4.56,42.22,42.22,0,0,1,1.2-5.2,26.61,26.61,0,0,1,6.08-10.56A32.1,32.1,0,0,1,170,214.8q7.68-3.36,19.68-3.36a70.51,70.51,0,0,1,8.24.48,47.38,47.38,0,0,1,21.36,8.48,34,34,0,0,1,5.2,5,38.2,38.2,0,0,1,4.08,6A34.25,34.25,0,0,1,231.93,247H221.05a28.79,28.79,0,0,0-2.88-11.52,31.09,31.09,0,0,0-6.88-8.16,41.53,41.53,0,0,0-4.64-2.88,27.86,27.86,0,0,0-5.12-2.08,41.11,41.11,0,0,0-11.68-1.6A49.15,49.15,0,0,0,179,221.84a28.4,28.4,0,0,0-9.12,3.84,19.18,19.18,0,0,0-6.24,7q-2.56,4.17-2.56,10.72a16.24,16.24,0,0,0,1.44,7,18.81,18.81,0,0,0,3.84,5,15.93,15.93,0,0,0,5.44,3.36,32.69,32.69,0,0,0,6.72,2.08l14.08,3.52h.32l-7.68,4.32-5.92,3.2-3.2-.8c-1.71-.42-3.36-.91-5-1.44s-3.2-1.12-4.8-1.76A24.81,24.81,0,0,1,158,262.8Z"
          transform="translate(-50.27 -66.96)"
          fill="none"
          :stroke="fatColor"
          stroke-miterlimit="10"
          stroke-width="4"
        />
      </g>
      <g class="first-name" style="isolation: isolate">
        <path
          class="logo fade"
          d="M165,191.92H153.27L87.51,156.24,73.75,191.92H62.23L108.31,77.68h11.84Zm-51-103.36-23,58.4,57.6,32.8Z"
          transform="translate(-50.27 -66.96)"
          fill="none"
          :stroke="skinnyColor"
          stroke-miterlimit="10"
        />
      </g>
      <g class="last-name" style="isolation: isolate">
        <path
          class="logo fade"
          d="M242.69,292q2.24,4.49,2.24,12v2.16a17.34,17.34,0,0,1-.32,3,29.25,29.25,0,0,1-1.92,6.72,28.53,28.53,0,0,1-4.32,7.36,29.72,29.72,0,0,1-7.68,6.72,53.7,53.7,0,0,1-12.16,4.8,82.27,82.27,0,0,1-36-.48,43,43,0,0,1-14.88-7.2,33.3,33.3,0,0,1-9.28-12.32,40.1,40.1,0,0,1-2.88-18.08h10.88a46.4,46.4,0,0,0,.64,8,26.26,26.26,0,0,0,2.08,6.72,25.15,25.15,0,0,0,8,9.44,31.3,31.3,0,0,0,12,5,60.76,60.76,0,0,0,14.72,1.6,44.29,44.29,0,0,0,9.76-1.28,28.89,28.89,0,0,0,9.92-4.16,22.06,22.06,0,0,0,7.52-7.2,17.4,17.4,0,0,0,3-10.56,15.08,15.08,0,0,0-2.08-8.32,25.88,25.88,0,0,0-2.48-3.28,20.58,20.58,0,0,0-3.12-2.8,37,37,0,0,0-7.68-3.84q-2.08-.8-4.08-1.44c-1.34-.43-2.69-.8-4.08-1.12l-8.8-2.08,13.76-7.52c2,.53,4,1.12,5.84,1.76a54.52,54.52,0,0,1,5.52,2.24,47.56,47.56,0,0,1,9.44,5.76A25.16,25.16,0,0,1,242.69,292ZM167,268.8a25.48,25.48,0,0,1-5.6-7.84,26.71,26.71,0,0,1-2.24-11.36,28.45,28.45,0,0,1,.4-4.56,42.22,42.22,0,0,1,1.2-5.2,26.61,26.61,0,0,1,6.08-10.56A32.1,32.1,0,0,1,179,220.8q7.68-3.36,19.68-3.36a70.51,70.51,0,0,1,8.24.48,47.38,47.38,0,0,1,21.36,8.48,34,34,0,0,1,5.2,5,38.2,38.2,0,0,1,4.08,6A34.25,34.25,0,0,1,240.93,253H230.05a28.79,28.79,0,0,0-2.88-11.52,31.09,31.09,0,0,0-6.88-8.16,41.53,41.53,0,0,0-4.64-2.88,27.86,27.86,0,0,0-5.12-2.08,41.11,41.11,0,0,0-11.68-1.6A49.15,49.15,0,0,0,188,227.84a28.4,28.4,0,0,0-9.12,3.84,19.18,19.18,0,0,0-6.24,7q-2.56,4.17-2.56,10.72a16.24,16.24,0,0,0,1.44,7,18.81,18.81,0,0,0,3.84,5,15.93,15.93,0,0,0,5.44,3.36,32.69,32.69,0,0,0,6.72,2.08l14.08,3.52h.32l-7.68,4.32-5.92,3.2-3.2-.8c-1.71-.42-3.36-.91-5-1.44s-3.2-1.12-4.8-1.76A24.81,24.81,0,0,1,167,268.8Z"
          transform="translate(-50.27 -66.96)"
          fill="none"
          :stroke="skinnyColor"
          stroke-miterlimit="10"
        />
      </g>
    </svg>
  </div>
</template>

<style scoped lang="scss">
@import '@/styles/PortfolioLoadingSpinner';
</style>
